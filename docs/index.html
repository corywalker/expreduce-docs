<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Expreduce</title>
      
      
      
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Expreduce">
    <meta property="og:image" content="None/./assets/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="Expreduce">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
      <link rel="apple-touch-icon" href="./assets/images/logo.png">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="./assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="./assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('./assets/fonts/icon.eot?52m981');
      	src: url('./assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('./assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('./assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('./assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="./assets/stylesheets/application-a422ff04cc.css">
    <link rel="stylesheet" href="./assets/stylesheets/mma.css">
    
      <link rel="stylesheet" href="./assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700|Roboto+Mono">
      <style>
        body, input {
          font-family: 'Roboto', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
    <script src="./assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-red palette-accent-light-blue">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        Expreduce
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/corywalker/expreduce" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="./assets/images/logo.png">
        </div>
      
      <div class="name">
        <strong>
          Expreduce
          <span class="version">
            
          </span>
        </strong>
        
          <br>
          corywalker/expreduce
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/corywalker/expreduce/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/corywalker/expreduce/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  
    <li>
      <a class="current" title="Home" href=".">
        Home
      </a>
      
        
          
        
        
          <ul>
            
              <li class="anchor">
                <a title="Source code" href="#source-code">
                  Source code
                </a>
              </li>
            
          </ul>
        
      
    </li>
  

          
            
  <li>
    <span class="section">Language reference</span>
    <ul>
      
        
  
    <li>
      <a class="" title="combinatorics" href="builtin/combinatorics/">
        combinatorics
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="calculus" href="builtin/calculus/">
        calculus
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="comparison" href="builtin/comparison/">
        comparison
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="atoms" href="builtin/atoms/">
        atoms
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="functional" href="builtin/functional/">
        functional
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="expression" href="builtin/expression/">
        expression
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="equationdata" href="builtin/equationdata/">
        equationdata
      </a>
      
    </li>
  

      
        
  
    <li>
      <a class="" title="solve" href="builtin/solve/">
        solve
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="flowcontrol" href="builtin/flowcontrol/">
        flowcontrol
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="list" href="builtin/list/">
        list
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="matrix" href="builtin/matrix/">
        matrix
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="arithmetic" href="builtin/arithmetic/">
        arithmetic
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="specialsyms" href="builtin/specialsyms/">
        specialsyms
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="power" href="builtin/power/">
        power
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="random" href="builtin/random/">
        random
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="replacement" href="builtin/replacement/">
        replacement
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="sort" href="builtin/sort/">
        sort
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="system" href="builtin/system/">
        system
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="trig" href="builtin/trig/">
        trig
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="plot" href="builtin/plot/">
        plot
      </a>
      
    </li>
  

      
        
  

      
        
  
    <li>
      <a class="" title="string" href="builtin/string/">
        string
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="time" href="builtin/time/">
        time
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="pattern" href="builtin/pattern/">
        pattern
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="boolean" href="builtin/boolean/">
        boolean
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="simplify" href="builtin/simplify/">
        simplify
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="numbertheory" href="builtin/numbertheory/">
        numbertheory
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="stats" href="builtin/stats/">
        stats
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="manip" href="builtin/manip/">
        manip
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="rubi" href="builtin/rubi/">
        rubi
      </a>
      
    </li>
  

      
        
  

      
        
  

      
        
  

      
        
  

      
        
  
    <li>
      <a class="" title="tests" href="builtin/tests/">
        tests
      </a>
      
    </li>
  

      
    </ul>
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <h1 id="expreduce">Expreduce</h1>
<p>Expreduce implements a language with specialized constructs for term rewriting. It is a neat language for a computer algebra system because it is able to express expression manipulation steps in a form very similar to standard math equations. For example, the product rule in calculus can be expressed as:</p>
<div class="language-wl"><pre><span></span><span class="nb">D</span><span class="p">[</span><span class="nt">a_</span><span class="o">*</span><span class="nt">b_</span><span class="p">,</span><span class="nt">x_</span><span class="p">]</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">D</span><span class="p">[</span><span class="nv">a</span><span class="p">,</span><span class="nv">x</span><span class="p">]</span><span class="o">*</span><span class="nv">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">a</span><span class="o">*</span><span class="nb">D</span><span class="p">[</span><span class="nv">b</span><span class="p">,</span><span class="nv">x</span><span class="p">]</span><span class="w"></span>
</pre></div>


<p>Now that the kernel understands the product rule, when it later encounters a pattern matching the above LHS, it will recursively apply the product rule until the expression stabilizes.</p>
<p>The term rewriting system and pattern matching engine is fairly advanced. The computer algebra system at this stage is extremely limited, but simple calculus and algebraic manipulation is certainly supported (see examples below). If you are looking for a more mature computer algebra system, please consider using Mathematica (proprietary) or Mathics (open source, Sympy-backed).</p>
<h2 id="source-code">Source code</h2>
<p>Expreduce is <a href="https://github.com/corywalker/expreduce">on GitHub</a>.</p>
<h1 id="install-and-run">Install and run</h1>
<p><a href="https://github.com/corywalker/expreduce/releases/latest">DOWNLOAD HERE</a></p>
<p>If you just want to get started, you can download a binary release and run the software without any downloading Go or compiling. Head over to the <a href="https://github.com/corywalker/expreduce/releases/latest">latest release</a> and download the correct package for your OS.</p>
<h2 id="from-source">From source</h2>
<div class="language-wl"><pre><span></span>go get github.com/corywalker/expreduce
expreduce
</pre></div>


<h1 id="example">Example</h1>
<div class="language-wl"><pre><span></span><span class="nv">Welcome</span><span class="w"> </span><span class="nv">to</span><span class="w"> </span><span class="nv">Expreduce</span><span class="o">!</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">D</span><span class="p">[</span><span class="nb">Cos</span><span class="p">[</span><span class="nb">Log</span><span class="p">[</span><span class="nb">Sin</span><span class="p">[</span><span class="nv">x</span><span class="p">]]</span><span class="o">+</span><span class="nv">x</span><span class="p">]</span><span class="o">+</span><span class="nv">x</span><span class="p">,</span><span class="nv">x</span><span class="p">]</span><span class="w"></span>

<span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Cot</span><span class="p">[</span><span class="nv">x</span><span class="p">])</span><span class="o">*</span><span class="nb">Sin</span><span class="p">[</span><span class="nv">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Log</span><span class="p">[</span><span class="nb">Sin</span><span class="p">[</span><span class="nv">x</span><span class="p">]]]</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">Integrate</span><span class="p">[</span><span class="m">5</span><span class="o">*</span><span class="nb">E</span><span class="o">^</span><span class="p">(</span><span class="m">3</span><span class="o">*</span><span class="nv">x</span><span class="p">),{</span><span class="nv">x</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="nv">a</span><span class="p">}]</span><span class="w"> </span><span class="o">//</span><span class="w"> </span><span class="nb">Expand</span><span class="w"></span>

<span class="nb">Out</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="m">5</span><span class="o">/</span><span class="m">3</span><span class="o">*</span><span class="nb">E</span><span class="o">^</span><span class="m">6</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">5</span><span class="o">/</span><span class="m">3</span><span class="o">*</span><span class="nb">E</span><span class="o">^</span><span class="p">(</span><span class="m">3</span><span class="o">*</span><span class="nv">a</span><span class="p">)</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">FactorSquareFree</span><span class="p">[</span><span class="m">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="m">2</span><span class="o">*</span><span class="nv">x</span><span class="o">^</span><span class="m">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">x</span><span class="o">^</span><span class="m">4</span><span class="p">]</span><span class="w"></span>

<span class="nb">Out</span><span class="p">[</span><span class="m">3</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">x</span><span class="o">^</span><span class="m">2</span><span class="p">)</span><span class="o">^</span><span class="m">2</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">4</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">Sum</span><span class="p">[</span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="nv">i</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nv">n</span><span class="p">}]</span><span class="w"></span>

<span class="nb">Out</span><span class="p">[</span><span class="m">4</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="o">*</span><span class="nv">n</span><span class="o">*</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">n</span><span class="p">)</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">5</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">Together</span><span class="p">[(</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">3</span><span class="o">/</span><span class="nv">a</span><span class="p">)</span><span class="o">^</span><span class="m">2</span><span class="o">+</span><span class="nv">b</span><span class="o">/</span><span class="nv">c</span><span class="p">]</span><span class="w"></span>

<span class="nb">Out</span><span class="p">[</span><span class="m">5</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">/</span><span class="m">4</span><span class="o">*</span><span class="nv">a</span><span class="o">^-</span><span class="m">2</span><span class="o">*</span><span class="nv">c</span><span class="o">^-</span><span class="m">1</span><span class="o">*</span><span class="p">(</span><span class="m">4</span><span class="o">*</span><span class="nv">a</span><span class="o">^</span><span class="m">2</span><span class="o">*</span><span class="nv">b</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">36</span><span class="o">*</span><span class="nv">c</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">12</span><span class="o">*</span><span class="nv">a</span><span class="o">*</span><span class="nv">c</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">a</span><span class="o">^</span><span class="m">2</span><span class="o">*</span><span class="nv">c</span><span class="p">)</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">6</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="m">40</span><span class="o">!</span><span class="w"></span>

<span class="nb">Out</span><span class="p">[</span><span class="m">6</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="m">815915283247897734345611269596115894272000000000</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">7</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nb">Solve</span><span class="p">[</span><span class="nv">x</span><span class="o">^</span><span class="m">2</span><span class="o">-</span><span class="nv">x</span><span class="o">-</span><span class="m">2.5</span><span class="o">==</span><span class="m">0</span><span class="p">,</span><span class="nv">x</span><span class="p">]</span><span class="w"></span>

<span class="nb">Out</span><span class="p">[</span><span class="m">7</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="p">{{</span><span class="nv">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">-</span><span class="m">1.15831</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nv">x</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="m">2.15831</span><span class="p">}}</span><span class="w"></span>
</pre></div>


<h1 id="rubi-integration-rules">Rubi integration rules</h1>
<p>Expreduce uses the Rubi integration suite by Albert Rich. The rules can be loaded by running <code>LoadRubi[]</code> and then the integration can be called like <code>Int[Sin[a + b*Log[c*x^n]], x]</code>. These rules are much more powerful than the simplistic ones in <code>Integrate[]</code>.</p>
<p>http://www.apmaths.uwo.ca/~arich/</p>
<h2 id="integration-examples">Integration examples</h2>
<div class="language-wl"><pre><span></span><span class="nb">In</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nv">Int</span><span class="p">[((</span><span class="nv">A</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">C</span><span class="o">*</span><span class="nb">Sin</span><span class="p">[</span><span class="nv">e</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">f</span><span class="o">*</span><span class="nv">x</span><span class="p">]</span><span class="o">^</span><span class="m">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nv">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">a</span><span class="o">*</span><span class="nb">Sin</span><span class="p">[</span><span class="nv">e</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">f</span><span class="o">*</span><span class="nv">x</span><span class="p">])</span><span class="o">^</span><span class="nv">m</span><span class="o">*</span><span class="p">(</span><span class="nv">c</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="o">*</span><span class="nb">Sin</span><span class="p">[</span><span class="nv">e</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">f</span><span class="o">*</span><span class="nv">x</span><span class="p">])</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="p">)),</span><span class="w"> </span><span class="nv">x</span><span class="p">]</span><span class="w"></span>

<span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nv">f</span><span class="o">^-</span><span class="m">1</span><span class="o">*</span><span class="nb">Cos</span><span class="p">[</span><span class="nv">e</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">f</span><span class="o">*</span><span class="nv">x</span><span class="p">]</span><span class="o">*</span><span class="nb">Hypergeometric2F1</span><span class="p">[</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">m</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="o">/</span><span class="m">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">m</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="o">*</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">Sin</span><span class="p">[</span><span class="nv">e</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">f</span><span class="o">*</span><span class="nv">x</span><span class="p">])]</span><span class="o">*</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">2</span><span class="o">*</span><span class="nv">m</span><span class="p">)</span><span class="o">^-</span><span class="m">1</span><span class="o">*</span><span class="p">(</span><span class="nv">A</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">C</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nv">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">a</span><span class="o">*</span><span class="nb">Sin</span><span class="p">[</span><span class="nv">e</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">f</span><span class="o">*</span><span class="nv">x</span><span class="p">])</span><span class="o">^</span><span class="nv">m</span><span class="o">*</span><span class="p">(</span><span class="nv">c</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="o">*</span><span class="nb">Sin</span><span class="p">[</span><span class="nv">e</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">f</span><span class="o">*</span><span class="nv">x</span><span class="p">])</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="m">2</span><span class="o">*</span><span class="nb">C</span><span class="o">*</span><span class="nv">a</span><span class="o">^-</span><span class="m">1</span><span class="o">*</span><span class="nv">f</span><span class="o">^-</span><span class="m">1</span><span class="o">*</span><span class="nb">Cos</span><span class="p">[</span><span class="nv">e</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">f</span><span class="o">*</span><span class="nv">x</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="m">3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">2</span><span class="o">*</span><span class="nv">m</span><span class="p">)</span><span class="o">^-</span><span class="m">1</span><span class="o">*</span><span class="p">(</span><span class="nv">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">a</span><span class="o">*</span><span class="nb">Sin</span><span class="p">[</span><span class="nv">e</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">f</span><span class="o">*</span><span class="nv">x</span><span class="p">])</span><span class="o">^</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">m</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="nv">c</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="nv">c</span><span class="o">*</span><span class="nb">Sin</span><span class="p">[</span><span class="nv">e</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">f</span><span class="o">*</span><span class="nv">x</span><span class="p">])</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="p">))</span><span class="w"></span>

<span class="nb">In</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="o">:=</span><span class="w"> </span><span class="nv">Int</span><span class="p">[(</span><span class="nv">x</span><span class="o">^-</span><span class="m">5</span><span class="o">*</span><span class="p">(</span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)),</span><span class="w"> </span><span class="nv">x</span><span class="p">]</span><span class="w"></span>

<span class="nb">Out</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="o">-</span><span class="m">2</span><span class="o">/</span><span class="m">9</span><span class="o">*</span><span class="nv">a</span><span class="o">^</span><span class="m">4</span><span class="o">*</span><span class="p">(</span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="m">9</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="m">34</span><span class="o">/</span><span class="m">63</span><span class="o">*</span><span class="nv">a</span><span class="o">^</span><span class="m">4</span><span class="o">*</span><span class="p">(</span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="m">7</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="m">68</span><span class="o">/</span><span class="m">105</span><span class="o">*</span><span class="nv">a</span><span class="o">^</span><span class="m">4</span><span class="o">*</span><span class="p">(</span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="m">5</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="m">272</span><span class="o">/</span><span class="m">315</span><span class="o">*</span><span class="nv">a</span><span class="o">^</span><span class="m">4</span><span class="o">*</span><span class="p">(</span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="m">3</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="m">544</span><span class="o">/</span><span class="m">315</span><span class="o">*</span><span class="nv">a</span><span class="o">^</span><span class="m">4</span><span class="o">*</span><span class="p">(</span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="nv">a</span><span class="o">*</span><span class="nv">x</span><span class="p">)</span><span class="o">^</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="p">))</span><span class="w"></span>
</pre></div>


<h1 id="other-projects">Other projects</h1>
<p>Expreduce is indeed very similar to Mathics, a similar term rewriting system that uses Sympy as a backend for CAS operations. I created expreduce for a few reasons. The first is that I wanted to learn everything I could about term rewriting systems. The second is that I believe the syntax implemented in here is better suited for building a computer algebra system than using Python to manipulate expressions (as Sympy, and thus Mathics does). Using a language with first-class support for pattern matching and replacement across expression trees is ideal for writing a computer algebra system. This combined with an optimized core can lead to efficient and informed evaluation without much translation work for the programmer when translating equations to code.</p>
<h1 id="current-limitations">Current limitations</h1>
<p>When the engine applies rules for a given symbol, it tries to match the most "specific" rules first. The current definition of specificity is basic now, but can certainly be improved upon. It works in most cases but I can envision cases where it will be wrong. Right now there is no way to override the order of rule application, but it should be simple to add in the future.</p>
<p>The pattern matching system can be very slow, especially when working with <code>Orderless</code> expressions with many terms. This is because correctly matching such terms often involves checking many different permutations of a pattern until one finds a match. My theory right now is that the current matching system is behaving naively and that it can be modified to speed things up.</p>
<h1 id="future-directions">Future directions</h1>
<p>I'm interested in trying to apply Golang's concurrency paradigms to the evaluation sequence. Some low hanging fruit would be to have parallel computation of mapping pure functions onto Lists or other expressions (computing the derivative of a list expressions). Similarly, supporting automatic threading of Listable functions would be nice (computing sin(x) of a large array). The evaluation of an expression often starts with evaluating each of the parameters at the beginning. This could potentially be made concurrent as well. A more complicated but very interesting application would be to break down the pattern matching engine into concurrent components. We would have to be very careful about side effects here, so we might need to overhaul our scoping constructs or somehow restrict access to the EvalState. Another option would be to create a function that predicts if another function has side effects (is this feasible?). A true prediction could allow the system to fall back to non-concurrent evaluation.</p>
<p>Since there are at least two other replacement engines that implement the same syntax that I know of (<a href="https://github.com/jyh1/mmaclone">another one here</a>), it would could be useful to decide on a standard link protocol such that the replacement engine is independent of the rules that run on top of it. Another layer of abstraction is the frontend. Really the hierarchy goes as follows: core &lt;- rules &lt;- frontend. It would be nice to see all of these functions factored out and interchangeable.</p>
<p>Also of interest is to build up some formal theory on the rule definitions. There should be some pre-existing literature on this, as term-rewriting is a studied field. Some interesting questions to answer are:</p>
<ol>
<li>Given a set of rules for a symbol (or the universe of rules?), can we find duplicates or reduce the set of rules to the most fundamental ones? Answering such a question would improve the efficiency and clarity of the system.</li>
<li>Given a set of rules for a symbol (or the universe of rules?), can we prove that the recursive rewrites will terminate? It is fairly easy to write a rule that loops on itself or in cooperation with other rules. Of course, we should remove from consideration some of the imperative symbols such as <code>While</code> and <code>For</code>. Even with these imperative functions removed, is this question still the halting problem? Can we restrict our considerations enough such that the problem is not the halting problem? Answering this question would improve the stability of the system.</li>
</ol>
<h1 id="development">Development</h1>
<p>Pretty standard Go workflow. Just remember to <code>go generate</code>.</p>
<div class="language-wl"><pre><span></span># To update any .m changes or changes to the parser:
go generate ./...
# To run the test suite:
go test ./...
</pre></div>


<p>The use of <code>go generate</code> might require the download of additional dependencies.</p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
    </div>
    <div class="next">
      
        <a href="builtin/combinatorics/" title="combinatorics">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                combinatorics
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '.';
      var repo_id  = 'corywalker/expreduce';
    </script>
    <script src="./assets/javascripts/application-997097ee0c.js"></script>
    
    
  </body>
</html>